(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))l(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const b of x.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&l(b)}).observe(document,{childList:!0,subtree:!0});function w(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function l(p){if(p.ep)return;p.ep=!0;const x=w(p);fetch(p.href,x)}})();var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={},Ln;function Br(){return Ln||(Ln=1,(function(){var h;function m(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var w=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};function l(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof ae=="object"&&ae];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var p=l(this);function x(t,e){if(e)t:{var n=p;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&e!=null&&w(n,t,{configurable:!0,writable:!0,value:e})}}x("Symbol",function(t){function e(s){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new n(r+(s||"")+"_"+i++,s)}function n(s,o){this.h=s,w(this,"description",{configurable:!0,writable:!0,value:o})}if(t)return t;n.prototype.toString=function(){return this.h};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return e}),x("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=p[e[n]];typeof r=="function"&&typeof r.prototype[t]!="function"&&w(r.prototype,t,{configurable:!0,writable:!0,value:function(){return b(m(this))}})}return t});function b(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function E(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:m(t)}}function G(t){if(!(t instanceof Array)){t=E(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}var X=typeof Object.assign=="function"?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};x("Object.assign",function(t){return t||X});var J=typeof Object.create=="function"?Object.create:function(t){function e(){}return e.prototype=t,new e},lt;if(typeof Object.setPrototypeOf=="function")lt=Object.setPrototypeOf;else{var W;t:{var nt={a:!0},q={};try{q.__proto__=nt,W=q.a;break t}catch{}W=!1}lt=W?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var rt=lt;function it(t,e){if(t.prototype=J(e.prototype),t.prototype.constructor=t,rt)rt(t,e);else for(var n in e)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.ya=e.prototype}function Y(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function K(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}Y.prototype.u=function(t){this.i=t};function ot(t,e){t.l={ma:e,na:!0},t.h=t.s||t.v}Y.prototype.return=function(t){this.l={return:t},this.h=this.v};function R(t,e,n){return t.h=n,{value:e}}function vt(t){this.h=new Y,this.i=t}function ct(t,e){K(t.h);var n=t.h.j;return n?$(t,"return"in n?n.return:function(r){return{value:r,done:!0}},e,t.h.return):(t.h.return(e),N(t))}function $(t,e,n,r){try{var i=e.call(t.h.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.h.m=!1,i;var s=i.value}catch(o){return t.h.j=null,ot(t.h,o),N(t)}return t.h.j=null,r.call(t.h,s),N(t)}function N(t){for(;t.h.h;)try{var e=t.i(t.h);if(e)return t.h.m=!1,{value:e.value,done:!1}}catch(n){t.h.i=void 0,ot(t.h,n)}if(t.h.m=!1,t.h.l){if(e=t.h.l,t.h.l=null,e.na)throw e.ma;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function tt(t){this.next=function(e){return K(t.h),t.h.j?e=$(t,t.h.j.next,e,t.h.u):(t.h.u(e),e=N(t)),e},this.throw=function(e){return K(t.h),t.h.j?e=$(t,t.h.j.throw,e,t.h.u):(ot(t.h,e),e=N(t)),e},this.return=function(e){return ct(t,e)},this[Symbol.iterator]=function(){return this}}function c(t){function e(r){return t.next(r)}function n(r){return t.throw(r)}return new Promise(function(r,i){function s(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(s,i)}s(t.next())})}function f(t){return c(new tt(new vt(t)))}x("Promise",function(t){function e(o){this.i=0,this.j=void 0,this.h=[],this.u=!1;var u=this.l();try{o(u.resolve,u.reject)}catch(a){u.reject(a)}}function n(){this.h=null}function r(o){return o instanceof e?o:new e(function(u){u(o)})}if(t)return t;n.prototype.i=function(o){if(this.h==null){this.h=[];var u=this;this.j(function(){u.m()})}this.h.push(o)};var i=p.setTimeout;n.prototype.j=function(o){i(o,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var o=this.h;this.h=[];for(var u=0;u<o.length;++u){var a=o[u];o[u]=null;try{a()}catch(d){this.l(d)}}}this.h=null},n.prototype.l=function(o){this.j(function(){throw o})},e.prototype.l=function(){function o(d){return function(g){a||(a=!0,d.call(u,g))}}var u=this,a=!1;return{resolve:o(this.I),reject:o(this.m)}},e.prototype.I=function(o){if(o===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof e)this.L(o);else{t:switch(typeof o){case"object":var u=o!=null;break t;case"function":u=!0;break t;default:u=!1}u?this.F(o):this.s(o)}},e.prototype.F=function(o){var u=void 0;try{u=o.then}catch(a){this.m(a);return}typeof u=="function"?this.M(u,o):this.s(o)},e.prototype.m=function(o){this.v(2,o)},e.prototype.s=function(o){this.v(1,o)},e.prototype.v=function(o,u){if(this.i!=0)throw Error("Cannot settle("+o+", "+u+"): Promise already settled in state"+this.i);this.i=o,this.j=u,this.i===2&&this.K(),this.H()},e.prototype.K=function(){var o=this;i(function(){if(o.D()){var u=p.console;typeof u<"u"&&u.error(o.j)}},1)},e.prototype.D=function(){if(this.u)return!1;var o=p.CustomEvent,u=p.Event,a=p.dispatchEvent;return typeof a>"u"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof u=="function"?o=new u("unhandledrejection",{cancelable:!0}):(o=p.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.j,a(o))},e.prototype.H=function(){if(this.h!=null){for(var o=0;o<this.h.length;++o)s.i(this.h[o]);this.h=null}};var s=new n;return e.prototype.L=function(o){var u=this.l();o.T(u.resolve,u.reject)},e.prototype.M=function(o,u){var a=this.l();try{o.call(u,a.resolve,a.reject)}catch(d){a.reject(d)}},e.prototype.then=function(o,u){function a(O,A){return typeof O=="function"?function(T){try{d(O(T))}catch(_){g(_)}}:A}var d,g,P=new e(function(O,A){d=O,g=A});return this.T(a(o,d),a(u,g)),P},e.prototype.catch=function(o){return this.then(void 0,o)},e.prototype.T=function(o,u){function a(){switch(d.i){case 1:o(d.j);break;case 2:u(d.j);break;default:throw Error("Unexpected state: "+d.i)}}var d=this;this.h==null?s.i(a):this.h.push(a),this.u=!0},e.resolve=r,e.reject=function(o){return new e(function(u,a){a(o)})},e.race=function(o){return new e(function(u,a){for(var d=E(o),g=d.next();!g.done;g=d.next())r(g.value).T(u,a)})},e.all=function(o){var u=E(o),a=u.next();return a.done?r([]):new e(function(d,g){function P(T){return function(_){O[T]=_,A--,A==0&&d(O)}}var O=[],A=0;do O.push(void 0),A++,r(a.value).T(P(O.length-1),g),a=u.next();while(!a.done)})},e});function M(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var s=n++;return{value:e(s,t[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}x("Array.prototype.keys",function(t){return t||function(){return M(this,function(e){return e})}}),x("Array.prototype.fill",function(t){return t||function(e,n,r){var i=this.length||0;for(0>n&&(n=Math.max(0,i+n)),(r==null||r>i)&&(r=i),r=Number(r),0>r&&(r=Math.max(0,i+r)),n=Number(n||0);n<r;n++)this[n]=e;return this}});function j(t){return t||Array.prototype.fill}x("Int8Array.prototype.fill",j),x("Uint8Array.prototype.fill",j),x("Uint8ClampedArray.prototype.fill",j),x("Int16Array.prototype.fill",j),x("Uint16Array.prototype.fill",j),x("Int32Array.prototype.fill",j),x("Uint32Array.prototype.fill",j),x("Float32Array.prototype.fill",j),x("Float64Array.prototype.fill",j),x("Object.is",function(t){return t||function(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}}),x("Array.prototype.includes",function(t){return t||function(e,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var s=r[n];if(s===e||Object.is(s,e))return!0}return!1}}),x("String.prototype.includes",function(t){return t||function(e,n){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(e,n||0)!==-1}});var C=this||self;function U(t,e){t=t.split(".");var n=C;t[0]in n||typeof n.execScript>"u"||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)t.length||e===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=e}function v(t){var e;t:{if((e=C.navigator)&&(e=e.userAgent))break t;e=""}return e.indexOf(t)!=-1}var S=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=typeof t=="string"?t.split(""):t,s=0;s<n;s++)s in i&&(r[s]=e.call(void 0,i[s],s,t));return r},F={},I=null;function Z(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):"=.".indexOf(t[e-1])!=-1&&(n="=.".indexOf(t[e-2])!=-1?n-2:n-1);var r=new Uint8Array(n),i=0;return xt(t,function(s){r[i++]=s}),i!==n?r.subarray(0,i):r}function xt(t,e){function n(a){for(;r<t.length;){var d=t.charAt(r++),g=I[d];if(g!=null)return g;if(!/^[\s\xa0]*$/.test(d))throw Error("Unknown base64 encoding at char: "+d)}return a}at();for(var r=0;;){var i=n(-1),s=n(0),o=n(64),u=n(64);if(u===64&&i===-1)break;e(i<<2|s>>4),o!=64&&(e(s<<4&240|o>>2),u!=64&&e(o<<6&192|u))}}function at(){if(!I){I={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=t.concat(e[n].split(""));F[n]=r;for(var i=0;i<r.length;i++){var s=r[i];I[s]===void 0&&(I[s]=i)}}}}var dt=typeof Uint8Array<"u",St=!(v("Trident")||v("MSIE"))&&typeof C.btoa=="function";function Ot(t){if(!St){var e;e===void 0&&(e=0),at(),e=F[e];for(var n=Array(Math.floor(t.length/3)),r=e[64]||"",i=0,s=0;i<t.length-2;i+=3){var o=t[i],u=t[i+1],a=t[i+2],d=e[o>>2];o=e[(o&3)<<4|u>>4],u=e[(u&15)<<2|a>>6],a=e[a&63],n[s++]=d+o+u+a}switch(d=0,a=r,t.length-i){case 2:d=t[i+1],a=e[(d&15)<<2]||r;case 1:t=t[i],n[s]=e[t>>2]+e[(t&3)<<4|d>>4]+a+r}return n.join("")}for(e="";10240<t.length;)e+=String.fromCharCode.apply(null,t.subarray(0,10240)),t=t.subarray(10240);return e+=String.fromCharCode.apply(null,t),btoa(e)}var zt=RegExp("[-_.]","g");function $n(t){switch(t){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Ne(t){if(!St)return Z(t);zt.test(t)&&(t=t.replace(zt,$n)),t=atob(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var Ue;function fe(){return Ue||(Ue=new Uint8Array(0))}var Dt={},Zn=typeof Uint8Array.prototype.slice=="function",Q=0,ft=0;function Le(t){var e=0>t;t=Math.abs(t);var n=t>>>0;t=Math.floor((t-n)/4294967296),e&&(n=E(Be(n,t)),e=n.next().value,t=n.next().value,n=e),Q=n>>>0,ft=t>>>0}var Qn=typeof BigInt=="function";function Be(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function ze(t,e){this.i=t>>>0,this.h=e>>>0}function De(t){if(!t)return We||(We=new ze(0,0));if(!/^-?\d+$/.test(t))return null;if(16>t.length)Le(Number(t));else if(Qn)t=BigInt(t),Q=Number(t&BigInt(4294967295))>>>0,ft=Number(t>>BigInt(32)&BigInt(4294967295));else{var e=+(t[0]==="-");ft=Q=0;for(var n=t.length,r=e,i=(n-e)%6+e;i<=n;r=i,i+=6)r=Number(t.slice(r,i)),ft*=1e6,Q=1e6*Q+r,4294967296<=Q&&(ft+=Q/4294967296|0,Q%=4294967296);e&&(e=E(Be(Q,ft)),t=e.next().value,e=e.next().value,Q=t,ft=e)}return new ze(Q,ft)}var We;function He(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function he(){return Error("Failed to read varint, encoding is invalid.")}function Ge(t,e){return Error("Tried to read past the end of the data "+e+" > "+t)}function Tt(){throw Error("Invalid UTF8")}function Xe(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var Qt=void 0,pe,Jn=typeof TextDecoder<"u",Ve,qn=typeof TextEncoder<"u",Ye;function Ke(t){if(t!==Dt)throw Error("illegal external caller")}function Wt(t,e){if(Ke(e),this.V=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}function de(){return Ye||(Ye=new Wt(null,Dt))}function $e(t){Ke(Dt);var e=t.V;return e=e==null||dt&&e!=null&&e instanceof Uint8Array?e:typeof e=="string"?Ne(e):null,e==null?e:t.V=e}function tr(t){if(typeof t=="string")return{buffer:Ne(t),C:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Uint8Array)return{buffer:t,C:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Wt)return{buffer:$e(t)||fe(),C:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Ze(t,e){this.i=null,this.m=!1,this.h=this.j=this.l=0,ve(this,t,e)}function ve(t,e,n){n=n===void 0?{}:n,t.S=n.S===void 0?!1:n.S,e&&(e=tr(e),t.i=e.buffer,t.m=e.C,t.l=0,t.j=t.i.length,t.h=t.l)}Ze.prototype.reset=function(){this.h=this.l};function Ft(t,e){if(t.h=e,e>t.j)throw Ge(t.j,e)}function Ht(t){var e=t.i,n=t.h,r=e[n++],i=r&127;if(r&128&&(r=e[n++],i|=(r&127)<<7,r&128&&(r=e[n++],i|=(r&127)<<14,r&128&&(r=e[n++],i|=(r&127)<<21,r&128&&(r=e[n++],i|=r<<28,r&128&&e[n++]&128&&e[n++]&128&&e[n++]&128&&e[n++]&128&&e[n++]&128)))))throw he();return Ft(t,n),i}function Qe(t,e){if(0>e)throw Error("Tried to read a negative byte length: "+e);var n=t.h,r=n+e;if(r>t.j)throw Ge(e,t.j-n);return t.h=r,n}var Je=[];function ye(){this.h=[]}ye.prototype.length=function(){return this.h.length},ye.prototype.end=function(){var t=this.h;return this.h=[],t};function qe(t,e,n){for(;0<n||127<e;)t.h.push(e&127|128),e=(e>>>7|n<<25)>>>0,n>>>=7;t.h.push(e)}function _t(t,e){for(;127<e;)t.h.push(e&127|128),e>>>=7;t.h.push(e)}function me(t,e){if(Je.length){var n=Je.pop();ve(n,t,e),t=n}else t=new Ze(t,e);this.h=t,this.j=this.h.h,this.i=this.l=-1,this.setOptions(e)}me.prototype.setOptions=function(t){t=t===void 0?{}:t,this.ca=t.ca===void 0?!1:t.ca},me.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function tn(t){var e=t.h;if(e.h==e.j)return!1;t.j=t.h.h;var n=Ht(t.h)>>>0;if(e=n>>>3,n&=7,!(0<=n&&5>=n))throw He(n,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.l=e,t.i=n,!0}function Jt(t){switch(t.i){case 0:if(t.i!=0)Jt(t);else t:{t=t.h;for(var e=t.h,n=e+10,r=t.i;e<n;)if((r[e++]&128)===0){Ft(t,e);break t}throw he()}break;case 1:t=t.h,Ft(t,t.h+8);break;case 2:t.i!=2?Jt(t):(e=Ht(t.h)>>>0,t=t.h,Ft(t,t.h+e));break;case 5:t=t.h,Ft(t,t.h+4);break;case 3:e=t.l;do{if(!tn(t))throw Error("Unmatched start-group tag: stream EOF");if(t.i==4){if(t.l!=e)throw Error("Unmatched end-group tag");break}Jt(t)}while(!0);break;default:throw He(t.i,t.j)}}var qt=[];function er(){this.j=[],this.i=0,this.h=new ye}function Nt(t,e){e.length!==0&&(t.j.push(e),t.i+=e.length)}function nr(t,e){if(e=e.R){Nt(t,t.h.end());for(var n=0;n<e.length;n++)Nt(t,$e(e[n])||fe())}}var Mt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Ct(t,e){return Mt?t[Mt]|=e:t.A!==void 0?t.A|=e:(Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}}),e)}function en(t,e){Mt?t[Mt]&&(t[Mt]&=~e):t.A!==void 0&&(t.A&=~e)}function V(t){var e;return Mt?e=t[Mt]:e=t.A,e??0}function bt(t,e){Mt?t[Mt]=e:t.A!==void 0?t.A=e:Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}})}function ge(t){return Ct(t,1),t}function rr(t,e){bt(e,(t|0)&-51)}function te(t,e){bt(e,(t|18)&-41)}var we={};function ee(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}var Gt,nn=[];bt(nn,23),Gt=Object.freeze(nn);function xe(t){if(V(t.o)&2)throw Error("Cannot mutate an immutable Message")}function be(t){var e=t.length;(e=e?t[e-1]:void 0)&&ee(e)?e.g=1:(e={},t.push((e.g=1,e)))}function rn(t){var e=t.i+t.G;return t.B||(t.B=t.o[e]={})}function mt(t,e){return e===-1?null:e>=t.i?t.B?t.B[e]:void 0:t.o[e+t.G]}function At(t,e,n,r){xe(t),Xt(t,e,n,r)}function Xt(t,e,n,r){t.j&&(t.j=void 0),e>=t.i||r?rn(t)[e]=n:(t.o[e+t.G]=n,(t=t.B)&&e in t&&delete t[e])}function Ae(t,e,n,r){var i=mt(t,e);Array.isArray(i)||(i=Gt);var s=V(i);if(s&1||ge(i),r)s&2||Ct(i,2),n&1||Object.freeze(i);else{r=!(n&2);var o=s&2;n&1||!o?r&&s&16&&!o&&en(i,16):(i=ge(Array.prototype.slice.call(i)),Xt(t,e,i))}return i}function je(t,e){var n=mt(t,e),r=n==null?n:typeof n=="number"||n==="NaN"||n==="Infinity"||n==="-Infinity"?Number(n):void 0;return r!=null&&r!==n&&Xt(t,e,r),r}function on(t,e,n,r,i){t.h||(t.h={});var s=t.h[n],o=Ae(t,n,3,i);if(!s){var u=o;s=[];var a=!!(V(t.o)&16);o=!!(V(u)&2);var d=u;!i&&o&&(u=Array.prototype.slice.call(u));for(var g=o,P=0;P<u.length;P++){var O=u[P],A=e,T=!1;if(T=T===void 0?!1:T,O=Array.isArray(O)?new A(O):T?new A:void 0,O!==void 0){A=O.o;var _=T=V(A);o&&(_|=2),a&&(_|=16),_!=T&&bt(A,_),A=_,g=g||!!(2&A),s.push(O)}}return t.h[n]=s,a=V(u),e=a|33,e=g?e&-9:e|8,a!=e&&(g=u,Object.isFrozen(g)&&(g=Array.prototype.slice.call(g)),bt(g,e),u=g),d!==u&&Xt(t,n,u),(i||r&&o)&&Ct(s,2),r&&Object.freeze(s),s}return i||(i=Object.isFrozen(s),r&&!i?Object.freeze(s):!r&&i&&(s=Array.prototype.slice.call(s),t.h[n]=s)),s}function ne(t,e,n){var r=!!(V(t.o)&2);if(e=on(t,e,n,r,r),t=Ae(t,n,3,r),!(r||V(t)&8)){for(r=0;r<e.length;r++){if(n=e[r],V(n.o)&2){var i=fn(n,!1);i.j=n}else i=n;n!==i&&(e[r]=i,t[r]=i.o)}Ct(t,8)}return e}function jt(t,e,n){if(n!=null&&typeof n!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);At(t,e,n)}function sn(t,e,n,r,i){xe(t);var s=on(t,n,e,!1,!1);return n=r??new n,t=Ae(t,e,2,!1),i!=null?(s.splice(i,0,n),t.splice(i,0,n.o)):(s.push(n),t.push(n.o)),n.C()&&en(t,8),n}function re(t,e){return t??e}function Et(t,e,n){return n=n===void 0?0:n,re(je(t,e),n)}var ie;function ir(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t)if(Array.isArray(t)){if((V(t)&128)!==0)return t=Array.prototype.slice.call(t),be(t),t}else{if(dt&&t!=null&&t instanceof Uint8Array)return Ot(t);if(t instanceof Wt){var e=t.V;return e==null?"":typeof e=="string"?e:t.V=Ot(e)}}}return t}function un(t,e,n,r){if(t!=null){if(Array.isArray(t))t=Ee(t,e,n,r!==void 0);else if(ee(t)){var i={},s;for(s in t)i[s]=un(t[s],e,n,r);t=i}else t=e(t,r);return t}}function Ee(t,e,n,r){var i=V(t);r=r?!!(i&16):void 0,t=Array.prototype.slice.call(t);for(var s=0;s<t.length;s++)t[s]=un(t[s],e,n,r);return n(i,t),t}function or(t){return t.ja===we?t.toJSON():ir(t)}function sr(t,e){t&128&&be(e)}function ln(t,e,n){if(n=n===void 0?te:n,t!=null){if(dt&&t instanceof Uint8Array)return t.length?new Wt(new Uint8Array(t),Dt):de();if(Array.isArray(t)){var r=V(t);return r&2?t:e&&!(r&32)&&(r&16||r===0)?(bt(t,r|2),t):(t=Ee(t,ln,r&4?te:n,!0),e=V(t),e&4&&e&2&&Object.freeze(t),t)}return t.ja===we?an(t):t}}function cn(t,e,n,r,i,s,o){if(t=t.h&&t.h[n]){if(r=V(t),r&2?r=t:(s=S(t,an),te(r,s),Object.freeze(s),r=s),xe(e),o=r==null?Gt:ge([]),r!=null){for(s=!!r.length,t=0;t<r.length;t++){var u=r[t];s=s&&!(V(u.o)&2),o[t]=u.o}s=(s?8:0)|1,t=V(o),(t&s)!==s&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),bt(o,t|s)),e.h||(e.h={}),e.h[n]=r}else e.h&&(e.h[n]=void 0);Xt(e,n,o,i)}else At(e,n,ln(r,s,o),i)}function an(t){return V(t.o)&2||(t=fn(t,!0),Ct(t.o,2)),t}function fn(t,e){var n=t.o,r=[];Ct(r,16);var i=t.constructor.h;if(i&&r.push(i),i=t.B,i){r.length=n.length,r.fill(void 0,r.length,n.length);var s={};r[r.length-1]=s}(V(n)&128)!==0&&be(r),e=e||t.C()?te:rr,s=t.constructor,ie=r,r=new s(r),ie=void 0,t.R&&(r.R=t.R.slice()),s=!!(V(n)&16);for(var o=i?n.length-1:n.length,u=0;u<o;u++)cn(t,r,u-t.G,n[u],!1,s,e);if(i)for(var a in i)cn(t,r,+a,i[a],!0,s,e);return r}function ht(t,e,n){t==null&&(t=ie),ie=void 0;var r=this.constructor.i||0,i=0<r,s=this.constructor.h,o=!1;if(t==null){t=s?[s]:[];var u=48,a=!0;i&&(r=0,u|=128),bt(t,u)}else{if(!Array.isArray(t)||s&&s!==t[0])throw Error();var d=u=Ct(t,0);if((a=(16&d)!==0)&&((o=(32&d)!==0)||(d|=32)),i){if(128&d)r=0;else if(0<t.length){var g=t[t.length-1];if(ee(g)&&"g"in g){r=0,d|=128,delete g.g;var P=!0,O;for(O in g){P=!1;break}P&&t.pop()}}}else if(128&d)throw Error();u!==d&&bt(t,d)}this.G=(s?0:-1)-r,this.h=void 0,this.o=t;t:{if(s=this.o.length,r=s-1,s&&(s=this.o[r],ee(s))){this.B=s,this.i=r-this.G;break t}e!==void 0&&-1<e?(this.i=Math.max(e,r+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n){e=a&&!o&&!0,i=this.i;var A;for(a=0;a<n.length;a++)o=n[a],o<i?(o+=this.G,(r=t[o])?hn(r,e):t[o]=Gt):(A||(A=rn(this)),(r=A[o])?hn(r,e):A[o]=Gt)}}ht.prototype.toJSON=function(){return Ee(this.o,or,sr)},ht.prototype.C=function(){return!!(V(this.o)&2)};function hn(t,e){if(Array.isArray(t)){var n=V(t),r=1;!e||n&2||(r|=16),(n&r)!==r&&bt(t,n|r)}}ht.prototype.ja=we,ht.prototype.toString=function(){return this.o.toString()};function pn(t,e,n){if(n){var r={},i;for(i in n){var s=n[i],o=s.qa;o||(r.J=s.wa||s.oa.W,s.ia?(r.aa=gn(s.ia),o=(function(u){return function(a,d,g){return u.J(a,d,g,u.aa)}})(r)):s.ka?(r.Z=wn(s.da.P,s.ka),o=(function(u){return function(a,d,g){return u.J(a,d,g,u.Z)}})(r)):o=r.J,s.qa=o),o(e,t,s.da),r={J:r.J,aa:r.aa,Z:r.Z}}}nr(e,t)}var oe=Symbol();function dn(t,e,n){return t[oe]||(t[oe]=function(r,i){return e(r,i,n)})}function vn(t){var e=t[oe];if(!e){var n=Oe(t);e=function(r,i){return xn(r,i,n)},t[oe]=e}return e}function ur(t){var e=t.ia;if(e)return vn(e);if(e=t.va)return dn(t.da.P,e,t.ka)}function lr(t){var e=ur(t),n=t.da,r=t.oa.U;return e?function(i,s){return r(i,s,n,e)}:function(i,s){return r(i,s,n)}}function yn(t,e){var n=t[e];return typeof n=="function"&&n.length===0&&(n=n(),t[e]=n),Array.isArray(n)&&(Yt in n||Vt in n||0<n.length&&typeof n[0]=="function")?n:void 0}function mn(t,e,n,r,i,s){e.P=t[0];var o=1;if(t.length>o&&typeof t[o]!="number"){var u=t[o++];n(e,u)}for(;o<t.length;){n=t[o++];for(var a=o+1;a<t.length&&typeof t[a]!="number";)a++;switch(u=t[o++],a-=o,a){case 0:r(e,n,u);break;case 1:(a=yn(t,o))?(o++,i(e,n,u,a)):r(e,n,u,t[o++]);break;case 2:a=o++,a=yn(t,a),i(e,n,u,a,t[o++]);break;case 3:s(e,n,u,t[o++],t[o++],t[o++]);break;case 4:s(e,n,u,t[o++],t[o++],t[o++],t[o++]);break;default:throw Error("unexpected number of binary field arguments: "+a)}}return e}var se=Symbol();function gn(t){var e=t[se];if(!e){var n=Se(t);e=function(r,i){return bn(r,i,n)},t[se]=e}return e}function wn(t,e){var n=t[se];return n||(n=function(r,i){return pn(r,i,e)},t[se]=n),n}var Vt=Symbol();function cr(t,e){t.push(e)}function ar(t,e,n){t.push(e,n.W)}function fr(t,e,n,r){var i=gn(r),s=Se(r).P,o=n.W;t.push(e,function(u,a,d){return o(u,a,d,s,i)})}function hr(t,e,n,r,i,s){var o=wn(r,s),u=n.W;t.push(e,function(a,d,g){return u(a,d,g,r,o)})}function Se(t){var e=t[Vt];return e||(e=mn(t,t[Vt]=[],cr,ar,fr,hr),Yt in t&&Vt in t&&(t.length=0),e)}var Yt=Symbol();function pr(t,e){t[0]=e}function dr(t,e,n,r){var i=n.U;t[e]=r?function(s,o,u){return i(s,o,u,r)}:i}function vr(t,e,n,r,i){var s=n.U,o=vn(r),u=Oe(r).P;t[e]=function(a,d,g){return s(a,d,g,u,o,i)}}function yr(t,e,n,r,i,s,o){var u=n.U,a=dn(r,i,s);t[e]=function(d,g,P){return u(d,g,P,r,a,o)}}function Oe(t){var e=t[Yt];return e||(e=mn(t,t[Yt]={},pr,dr,vr,yr),Yt in t&&Vt in t&&(t.length=0),e)}function xn(t,e,n){for(;tn(e)&&e.i!=4;){var r=e.l,i=n[r];if(!i){var s=n[0];s&&(s=s[r])&&(i=n[r]=lr(s))}if(!i||!i(e,t,r)){i=e,r=t,s=i.j,Jt(i);var o=i;if(!o.ca){if(i=o.h.h-s,o.h.h=s,o=o.h,i==0)i=de();else{if(s=Qe(o,i),o.S&&o.m)i=o.i.subarray(s,s+i);else{o=o.i;var u=s;i=s+i,i=u===i?fe():Zn?o.slice(u,i):new Uint8Array(o.subarray(u,i))}i=i.length==0?de():new Wt(i,Dt)}(s=r.R)?s.push(i):r.R=[i]}}}return t}function bn(t,e,n){for(var r=n.length,i=r%2==1,s=i?1:0;s<r;s+=2)(0,n[s+1])(e,t,n[s]);pn(t,e,i?n[0]:void 0)}function Kt(t,e){return{U:t,W:e}}var gt=Kt(function(t,e,n){if(t.i!==5)return!1;t=t.h;var r=t.i,i=t.h,s=r[i],o=r[i+1],u=r[i+2];return r=r[i+3],Ft(t,t.h+4),o=(s<<0|o<<8|u<<16|r<<24)>>>0,t=2*(o>>31)+1,s=o>>>23&255,o&=8388607,At(e,n,s==255?o?NaN:1/0*t:s==0?t*Math.pow(2,-149)*o:t*Math.pow(2,s-150)*(o+Math.pow(2,23))),!0},function(t,e,n){if(e=je(e,n),e!=null){_t(t.h,8*n+5),t=t.h;var r=+e;r===0?0<1/r?Q=ft=0:(ft=0,Q=2147483648):isNaN(r)?(ft=0,Q=2147483647):(r=(n=0>r?-2147483648:0)?-r:r,34028234663852886e22<r?(ft=0,Q=(n|2139095040)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),ft=0,Q=(n|r)>>>0):(e=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-e),r=Math.round(8388608*r),16777216<=r&&++e,ft=0,Q=(n|e+127<<23|r&8388607)>>>0)),n=Q,t.h.push(n>>>0&255),t.h.push(n>>>8&255),t.h.push(n>>>16&255),t.h.push(n>>>24&255)}}),mr=Kt(function(t,e,n){if(t.i!==0)return!1;var r=t.h,i=0,s=t=0,o=r.i,u=r.h;do{var a=o[u++];i|=(a&127)<<s,s+=7}while(32>s&&a&128);for(32<s&&(t|=(a&127)>>4),s=3;32>s&&a&128;s+=7)a=o[u++],t|=(a&127)<<s;if(Ft(r,u),128>a)r=i>>>0,a=t>>>0,(t=a&2147483648)&&(r=~r+1>>>0,a=~a>>>0,r==0&&(a=a+1>>>0)),r=4294967296*a+(r>>>0);else throw he();return At(e,n,t?-r:r),!0},function(t,e,n){e=mt(e,n),e!=null&&(typeof e=="string"&&De(e),e!=null&&(_t(t.h,8*n),typeof e=="number"?(t=t.h,Le(e),qe(t,Q,ft)):(n=De(e),qe(t.h,n.i,n.h))))}),gr=Kt(function(t,e,n){return t.i!==0?!1:(At(e,n,Ht(t.h)),!0)},function(t,e,n){if(e=mt(e,n),e!=null&&e!=null)if(_t(t.h,8*n),t=t.h,n=e,0<=n)_t(t,n);else{for(e=0;9>e;e++)t.h.push(n&127|128),n>>=7;t.h.push(1)}}),An=Kt(function(t,e,n){if(t.i!==2)return!1;var r=Ht(t.h)>>>0;t=t.h;var i=Qe(t,r);if(t=t.i,Jn){var s=t,o;(o=pe)||(o=pe=new TextDecoder("utf-8",{fatal:!0})),t=i+r,s=i===0&&t===s.length?s:s.subarray(i,t);try{var u=o.decode(s)}catch(P){if(Qt===void 0){try{o.decode(new Uint8Array([128]))}catch{}try{o.decode(new Uint8Array([97])),Qt=!0}catch{Qt=!1}}throw!Qt&&(pe=void 0),P}}else{u=i,r=u+r,i=[];for(var a=null,d,g;u<r;)d=t[u++],128>d?i.push(d):224>d?u>=r?Tt():(g=t[u++],194>d||(g&192)!==128?(u--,Tt()):i.push((d&31)<<6|g&63)):240>d?u>=r-1?Tt():(g=t[u++],(g&192)!==128||d===224&&160>g||d===237&&160<=g||((s=t[u++])&192)!==128?(u--,Tt()):i.push((d&15)<<12|(g&63)<<6|s&63)):244>=d?u>=r-2?Tt():(g=t[u++],(g&192)!==128||(d<<28)+(g-144)>>30!==0||((s=t[u++])&192)!==128||((o=t[u++])&192)!==128?(u--,Tt()):(d=(d&7)<<18|(g&63)<<12|(s&63)<<6|o&63,d-=65536,i.push((d>>10&1023)+55296,(d&1023)+56320))):Tt(),8192<=i.length&&(a=Xe(a,i),i.length=0);u=Xe(a,i)}return At(e,n,u),!0},function(t,e,n){if(e=mt(e,n),e!=null){var r=!1;if(r=r===void 0?!1:r,qn){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(Ve||(Ve=new TextEncoder)).encode(e)}else{for(var i=0,s=new Uint8Array(3*e.length),o=0;o<e.length;o++){var u=e.charCodeAt(o);if(128>u)s[i++]=u;else{if(2048>u)s[i++]=u>>6|192;else{if(55296<=u&&57343>=u){if(56319>=u&&o<e.length){var a=e.charCodeAt(++o);if(56320<=a&&57343>=a){u=1024*(u-55296)+a-56320+65536,s[i++]=u>>18|240,s[i++]=u>>12&63|128,s[i++]=u>>6&63|128,s[i++]=u&63|128;continue}else o--}if(r)throw Error("Found an unpaired surrogate");u=65533}s[i++]=u>>12|224,s[i++]=u>>6&63|128}s[i++]=u&63|128}}e=i===s.length?s:s.subarray(0,i)}_t(t.h,8*n+2),_t(t.h,e.length),Nt(t,t.h.end()),Nt(t,e)}}),jn=Kt(function(t,e,n,r,i){if(t.i!==2)return!1;e=sn(e,n,r),n=t.h.j,r=Ht(t.h)>>>0;var s=t.h.h+r,o=s-n;if(0>=o&&(t.h.j=s,i(e,t,void 0,void 0,void 0),o=s-t.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(r+" bytes, instead read "+(r-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.h.h=s,t.h.j=n,!0},function(t,e,n,r,i){if(e=ne(e,r,n),e!=null)for(r=0;r<e.length;r++){var s=t;_t(s.h,8*n+2);var o=s.h.end();Nt(s,o),o.push(s.i),s=o,i(e[r],t),o=t;var u=s.pop();for(u=o.i+o.h.length()-u;127<u;)s.push(u&127|128),u>>>=7,o.i++;s.push(u),o.i++}});function Me(t){return function(e,n){t:{if(qt.length){var r=qt.pop();r.setOptions(n),ve(r.h,e,n),e=r}else e=new me(e,n);try{var i=Oe(t),s=xn(new i.P,e,i);break t}finally{i=e.h,i.i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,e.l=-1,e.i=-1,100>qt.length&&qt.push(e)}s=void 0}return s}}function Pe(t){return function(){var e=new er;bn(this,e,Se(t)),Nt(e,e.h.end());for(var n=new Uint8Array(e.i),r=e.j,i=r.length,s=0,o=0;o<i;o++){var u=r[o];n.set(u,s),s+=u.length}return e.j=[n],n}}function Ut(t){ht.call(this,t)}it(Ut,ht);var En=[Ut,1,gr,2,gt,3,An,4,An];Ut.prototype.l=Pe(En);function Te(t){ht.call(this,t,-1,wr)}it(Te,ht),Te.prototype.addClassification=function(t,e){return sn(this,1,Ut,t,e),this};var wr=[1],Sn=Me([Te,1,jn,En]);function Lt(t){ht.call(this,t)}it(Lt,ht);var On=[Lt,1,gt,2,gt,3,gt,4,gt,5,gt];Lt.prototype.l=Pe(On);function Mn(t){ht.call(this,t,-1,xr)}it(Mn,ht);var xr=[1],Pn=Me([Mn,1,jn,On]);function ue(t){ht.call(this,t)}it(ue,ht);var Tn=[ue,1,gt,2,gt,3,gt,4,gt,5,gt,6,mr],br=Me(Tn);ue.prototype.l=Pe(Tn);function Fn(t,e,n){if(n=t.createShader(n===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(n));return n}function _n(t){return ne(t,Ut,1).map(function(e){var n=mt(e,1);return{index:n??0,score:Et(e,2),label:mt(e,3)!=null?re(mt(e,3),""):void 0,displayName:mt(e,4)!=null?re(mt(e,4),""):void 0}})}function Cn(t){return{x:Et(t,1),y:Et(t,2),z:Et(t,3),visibility:je(t,4)!=null?Et(t,4):void 0}}function Rn(t){return t.map(function(e){return ne(Pn(e),Lt,1).map(Cn)})}function Fe(t,e){this.i=t,this.h=e,this.m=0}function kn(t,e,n){return Ar(t,e),typeof t.h.canvas.transferToImageBitmap=="function"?Promise.resolve(t.h.canvas.transferToImageBitmap()):n?Promise.resolve(t.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.h.canvas):(t.j===void 0&&(t.j=document.createElement("canvas")),new Promise(function(r){t.j.height=t.h.canvas.height,t.j.width=t.h.canvas.width,t.j.getContext("2d",{}).drawImage(t.h.canvas,0,0,t.h.canvas.width,t.h.canvas.height),r(t.j)}))}function Ar(t,e){var n=t.h;if(t.s===void 0){var r=Fn(n,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),i=Fn(n,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),s=n.createProgram();if(n.attachShader(s,r),n.attachShader(s,i),n.linkProgram(s),!n.getProgramParameter(s,n.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+n.getProgramInfoLog(s));r=t.s=s,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),t.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),xa:i},t.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.v),n.enableVertexAttribArray(t.l.O),n.vertexAttribPointer(t.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),t.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.enableVertexAttribArray(t.l.N),n.vertexAttribPointer(t.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=t.l,n.useProgram(t.s),n.canvas.width=e.width,n.canvas.height=e.height,n.viewport(0,0,e.width,e.height),n.activeTexture(n.TEXTURE0),t.i.bindTexture2d(e.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,t.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),t.i.bindTexture2d(0)}function jr(t){this.h=t}var Er=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Sr(t,e){return e+t}function In(t,e){window[t]=e}function Or(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(function(n){e.addEventListener("load",function(){n()},!1),e.addEventListener("error",function(){n()},!1),document.body.appendChild(e)})}function Mr(){return f(function(t){switch(t.h){case 1:return t.s=2,R(t,WebAssembly.instantiate(Er),4);case 4:t.h=3,t.s=0;break;case 2:return t.s=0,t.l=null,t.return(!1);case 3:return t.return(!0)}})}function _e(t){if(this.h=t,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=t&&t.locateFile||Sr,typeof window=="object")var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=e,t.options){e=E(Object.keys(t.options));for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.options[n].default;r!==void 0&&(this.l[n]=typeof r=="function"?r():r)}}}h=_e.prototype,h.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Pr(t){var e,n,r,i,s,o,u,a,d,g,P;return f(function(O){switch(O.h){case 1:return t.ga?(e=t.h.files===void 0?[]:typeof t.h.files=="function"?t.h.files(t.l):t.h.files,R(O,Mr(),2)):O.return();case 2:if(n=O.i,typeof window=="object")return In("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),In("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),o=e.filter(function(A){return A.data!==void 0}),u=e.filter(function(A){return A.data===void 0}),a=Promise.all(o.map(function(A){var T=le(t,A.url);if(A.path!==void 0){var _=A.path;T=T.then(function(B){return t.overrideFile(_,B),Promise.resolve(B)})}return T})),d=Promise.all(u.map(function(A){return A.simd===void 0||A.simd&&n||!A.simd&&!n?Or(t.locateFile(A.url,t.ha)):Promise.resolve()})).then(function(){var A,T,_;return f(function(B){if(B.h==1)return A=window.createMediapipeSolutionsWasm,T=window.createMediapipeSolutionsPackedAssets,_=t,R(B,A(T),2);_.i=B.i,B.h=0})}),g=(function(){return f(function(A){return t.h.graph&&t.h.graph.url?A=R(A,le(t,t.h.graph.url),0):(A.h=0,A=void 0),A})})(),R(O,Promise.all([d,a,g]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return r=e.filter(function(A){return A.simd===void 0||A.simd&&n||!A.simd&&!n}).map(function(A){return t.locateFile(A.url,t.ha)}),importScripts.apply(null,G(r)),i=t,R(O,createMediapipeSolutionsWasm(Module),6);case 6:i.i=O.i,t.m=new OffscreenCanvas(1,1),t.i.canvas=t.m,s=t.i.GL.createContext(t.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),t.i.GL.makeContextCurrent(s),O.h=4;break;case 7:if(t.m=document.createElement("canvas"),P=t.m.getContext("webgl2",{}),!P&&(P=t.m.getContext("webgl",{}),!P))return alert("Failed to create WebGL canvas context when passing video frame."),O.return();t.K=P,t.i.canvas=t.m,t.i.createContext(t.m,!0,!0,{});case 4:t.j=new t.i.SolutionWasm,t.ga=!1,O.h=0}})}function Tr(t){var e,n,r,i,s,o,u,a;return f(function(d){if(d.h==1){if(t.h.graph&&t.h.graph.url&&t.fa===t.h.graph.url)return d.return();if(t.u=!0,!t.h.graph||!t.h.graph.url){d.h=2;return}return t.fa=t.h.graph.url,R(d,le(t,t.h.graph.url),3)}for(d.h!=2&&(e=d.i,t.j.loadGraph(e)),n=E(Object.keys(t.D)),r=n.next();!r.done;r=n.next())i=r.value,t.j.overrideFile(i,t.D[i]);if(t.D={},t.h.listeners)for(s=E(t.h.listeners),o=s.next();!o.done;o=s.next())u=o.value,Rr(t,u);a=t.l,t.l={},t.setOptions(a),d.h=0})}h.reset=function(){var t=this;return f(function(e){t.j&&(t.j.reset(),t.s={},t.v={}),e.h=0})},h.setOptions=function(t,e){var n=this;if(e=e||this.h.options){for(var r=[],i=[],s={},o=E(Object.keys(t)),u=o.next();!u.done;s={X:s.X,Y:s.Y},u=o.next())if(u=u.value,!(u in this.l&&this.l[u]===t[u])){this.l[u]=t[u];var a=e[u];a!==void 0&&(a.onChange&&(s.X=a.onChange,s.Y=t[u],r.push((function(d){return function(){var g;return f(function(P){if(P.h==1)return R(P,d.X(d.Y),2);g=P.i,g===!0&&(n.u=!0),P.h=0})}})(s))),a.graphOptionXref&&(u=Object.assign({},{calculatorName:"",calculatorIndex:0},a.graphOptionXref,{valueNumber:a.type===1?t[u]:0,valueBoolean:a.type===0?t[u]:!1,valueString:a.type===2?t[u]:""}),i.push(u)))}(r.length!==0||i.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(i),this.F=(this.F===void 0?[]:this.F).concat(r))}};function Fr(t){var e,n,r,i,s,o,u;return f(function(a){switch(a.h){case 1:if(!t.u)return a.return();if(!t.F){a.h=2;break}e=E(t.F),n=e.next();case 3:if(n.done){a.h=5;break}return r=n.value,R(a,r(),4);case 4:n=e.next(),a.h=3;break;case 5:t.F=void 0;case 2:if(t.H){for(i=new t.i.GraphOptionChangeRequestList,s=E(t.H),o=s.next();!o.done;o=s.next())u=o.value,i.push_back(u);t.j.changeOptions(i),i.delete(),t.H=void 0}t.u=!1,a.h=0}})}h.initialize=function(){var t=this;return f(function(e){return e.h==1?R(e,Pr(t),2):e.h!=3?R(e,Tr(t),3):R(e,Fr(t),0)})};function le(t,e){var n,r;return f(function(i){return e in t.L?i.return(t.L[e]):(n=t.locateFile(e,""),r=fetch(n).then(function(s){return s.arrayBuffer()}),t.L[e]=r,i.return(r))})}h.overrideFile=function(t,e){this.j?this.j.overrideFile(t,e):this.D[t]=e},h.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},h.send=function(t,e){var n=this,r,i,s,o,u,a,d,g,P;return f(function(O){switch(O.h){case 1:return n.h.inputs?(r=1e3*(e??performance.now()),R(O,n.I,2)):O.return();case 2:return R(O,n.initialize(),3);case 3:for(i=new n.i.PacketDataList,s=E(Object.keys(t)),o=s.next();!o.done;o=s.next())if(u=o.value,a=n.h.inputs[u]){t:{var A=t[u];switch(a.type){case"video":var T=n.s[a.stream];if(T||(T=new Fe(n.i,n.K),n.s[a.stream]=T),T.m===0&&(T.m=T.i.createTexture()),typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement)var _=A.videoWidth,B=A.videoHeight;else typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement?(_=A.naturalWidth,B=A.naturalHeight):(_=A.width,B=A.height);B={glName:T.m,width:_,height:B},_=T.h,_.canvas.width=B.width,_.canvas.height=B.height,_.activeTexture(_.TEXTURE0),T.i.bindTexture2d(T.m),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,A),T.i.bindTexture2d(0),T=B;break t;case"detections":for(T=n.s[a.stream],T||(T=new jr(n.i),n.s[a.stream]=T),T.data||(T.data=new T.h.DetectionListData),T.data.reset(A.length),B=0;B<A.length;++B){_=A[B];var L=T.data,st=L.setBoundingBox,yt=B,pt=_.la,k=new ue;if(jt(k,1,pt.ra),jt(k,2,pt.sa),jt(k,3,pt.height),jt(k,4,pt.width),jt(k,5,pt.rotation),At(k,6,pt.pa),pt=k.l(),st.call(L,yt,pt),_.ea)for(L=0;L<_.ea.length;++L){k=_.ea[L],st=T.data,yt=st.addNormalizedLandmark,pt=B,k=Object.assign({},k,{visibility:k.visibility?k.visibility:0});var ut=new Lt;jt(ut,1,k.x),jt(ut,2,k.y),jt(ut,3,k.z),k.visibility&&jt(ut,4,k.visibility),k=ut.l(),yt.call(st,pt,k)}if(_.ba)for(L=0;L<_.ba.length;++L)st=T.data,yt=st.addClassification,pt=B,k=_.ba[L],ut=new Ut,jt(ut,2,k.score),k.index&&At(ut,1,k.index),k.label&&At(ut,3,k.label),k.displayName&&At(ut,4,k.displayName),k=ut.l(),yt.call(st,pt,k)}T=T.data;break t;default:T={}}}switch(d=T,g=a.stream,a.type){case"video":i.pushTexture2d(Object.assign({},d,{stream:g,timestamp:r}));break;case"detections":P=d,P.stream=g,P.timestamp=r,i.pushDetectionList(P);break;default:throw Error("Unknown input config type: '"+a.type+"'")}}return n.j.send(i),R(O,n.I,4);case 4:i.delete(),O.h=0}})};function _r(t,e,n){var r,i,s,o,u,a,d,g,P,O,A,T,_,B;return f(function(L){switch(L.h){case 1:if(!n)return L.return(e);for(r={},i=0,s=E(Object.keys(n)),o=s.next();!o.done;o=s.next())u=o.value,a=n[u],typeof a!="string"&&a.type==="texture"&&e[a.stream]!==void 0&&++i;1<i&&(t.M=!1),d=E(Object.keys(n)),o=d.next();case 2:if(o.done){L.h=4;break}if(g=o.value,P=n[g],typeof P=="string")return _=r,B=g,R(L,Cr(t,g,e[P]),14);if(O=e[P.stream],P.type==="detection_list"){if(O){for(var st=O.getRectList(),yt=O.getLandmarksList(),pt=O.getClassificationsList(),k=[],ut=0;ut<st.size();++ut){var Pt=br(st.get(ut)),kr=Et(Pt,1),Ir=Et(Pt,2),Nr=Et(Pt,3),Ur=Et(Pt,4),Lr=Et(Pt,5,0),ce=void 0;ce=ce===void 0?0:ce,Pt={la:{ra:kr,sa:Ir,height:Nr,width:Ur,rotation:Lr,pa:re(mt(Pt,6),ce)},ea:ne(Pn(yt.get(ut)),Lt,1).map(Cn),ba:_n(Sn(pt.get(ut)))},k.push(Pt)}st=k}else st=[];r[g]=st,L.h=7;break}if(P.type==="proto_list"){if(O){for(st=Array(O.size()),yt=0;yt<O.size();yt++)st[yt]=O.get(yt);O.delete()}else st=[];r[g]=st,L.h=7;break}if(O===void 0){L.h=3;break}if(P.type==="float_list"){r[g]=O,L.h=7;break}if(P.type==="proto"){r[g]=O,L.h=7;break}if(P.type!=="texture")throw Error("Unknown output config type: '"+P.type+"'");return A=t.v[g],A||(A=new Fe(t.i,t.K),t.v[g]=A),R(L,kn(A,O,t.M),13);case 13:T=L.i,r[g]=T;case 7:P.transform&&r[g]&&(r[g]=P.transform(r[g])),L.h=3;break;case 14:_[B]=L.i;case 3:o=d.next(),L.h=2;break;case 4:return L.return(r)}})}function Cr(t,e,n){var r;return f(function(i){return typeof n=="number"||n instanceof Uint8Array||n instanceof t.i.Uint8BlobList?i.return(n):n instanceof t.i.Texture2dDataOut?(r=t.v[e],r||(r=new Fe(t.i,t.K),t.v[e]=r),i.return(kn(r,n,t.M))):i.return(void 0)})}function Rr(t,e){for(var n=e.name||"$",r=[].concat(G(e.wants)),i=new t.i.StringList,s=E(e.wants),o=s.next();!o.done;o=s.next())i.push_back(o.value);s=t.i.PacketListener.implement({onResults:function(u){for(var a={},d=0;d<e.wants.length;++d)a[r[d]]=u.get(d);var g=t.listeners[n];g&&(t.I=_r(t,a,e.outs).then(function(P){P=g(P);for(var O=0;O<e.wants.length;++O){var A=a[r[O]];typeof A=="object"&&A.hasOwnProperty&&A.hasOwnProperty("delete")&&A.delete()}P&&(t.I=P)}))}}),t.j.attachMultiListener(i,s),i.delete()}h.onResults=function(t,e){this.listeners[e||"$"]=t},U("Solution",_e),U("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Nn(t){return t===void 0&&(t=0),t===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function Un(t){var e=this;t=t||{},this.h=new _e({locateFile:t.locateFile,files:function(n){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Nn(n.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Rn},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Rn},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(n){return n.map(function(r){return _n(Sn(r))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(n){var r,i,s;return f(function(o){return o.h==1?(r=Nn(n),i="third_party/mediapipe/modules/hand_landmark/"+r,R(o,le(e.h,r),2)):(s=o.i,e.h.overrideFile(i,s),o.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}h=Un.prototype,h.close=function(){return this.h.close(),Promise.resolve()},h.onResults=function(t){this.h.onResults(t)},h.initialize=function(){var t=this;return f(function(e){return R(e,t.h.initialize(),0)})},h.reset=function(){this.h.reset()},h.send=function(t){var e=this;return f(function(n){return R(n,e.h.send(t),0)})},h.setOptions=function(t){this.h.setOptions(t)},U("Hands",Un),U("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),U("VERSION","0.4.1675469240")}).call(Ce)),Ce}var Vn=Br(),Re={},Bn;function zr(){return Bn||(Bn=1,(function(){function h(c){var f=0;return function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}}}var m=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,M){return c==Array.prototype||c==Object.prototype||(c[f]=M.value),c};function w(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ae=="object"&&ae];for(var f=0;f<c.length;++f){var M=c[f];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var l=w(this);function p(c,f){if(f)t:{var M=l;c=c.split(".");for(var j=0;j<c.length-1;j++){var C=c[j];if(!(C in M))break t;M=M[C]}c=c[c.length-1],j=M[c],f=f(j),f!=j&&f!=null&&m(M,c,{configurable:!0,writable:!0,value:f})}}p("Symbol",function(c){function f(U){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new M(j+(U||"")+"_"+C++,U)}function M(U,v){this.g=U,m(this,"description",{configurable:!0,writable:!0,value:v})}if(c)return c;M.prototype.toString=function(){return this.g};var j="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",C=0;return f}),p("Symbol.iterator",function(c){if(c)return c;c=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),M=0;M<f.length;M++){var j=l[f[M]];typeof j=="function"&&typeof j.prototype[c]!="function"&&m(j.prototype,c,{configurable:!0,writable:!0,value:function(){return x(h(this))}})}return c});function x(c){return c={next:c},c[Symbol.iterator]=function(){return this},c}function b(c){var f=typeof Symbol<"u"&&Symbol.iterator&&c[Symbol.iterator];return f?f.call(c):{next:h(c)}}function E(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function G(c){if(c.i)throw new TypeError("Generator is already running");c.i=!0}E.prototype.l=function(c){this.o=c};function X(c,f){c.h={F:f,G:!0},c.j=c.m}E.prototype.return=function(c){this.h={return:c},this.j=this.m};function J(c){this.g=new E,this.h=c}function lt(c,f){G(c.g);var M=c.g.g;return M?W(c,"return"in M?M.return:function(j){return{value:j,done:!0}},f,c.g.return):(c.g.return(f),nt(c))}function W(c,f,M,j){try{var C=f.call(c.g.g,M);if(!(C instanceof Object))throw new TypeError("Iterator result "+C+" is not an object");if(!C.done)return c.g.i=!1,C;var U=C.value}catch(v){return c.g.g=null,X(c.g,v),nt(c)}return c.g.g=null,j.call(c.g,U),nt(c)}function nt(c){for(;c.g.j;)try{var f=c.h(c.g);if(f)return c.g.i=!1,{value:f.value,done:!1}}catch(M){c.g.o=void 0,X(c.g,M)}if(c.g.i=!1,c.g.h){if(f=c.g.h,c.g.h=null,f.G)throw f.F;return{value:f.return,done:!0}}return{value:void 0,done:!0}}function q(c){this.next=function(f){return G(c.g),c.g.g?f=W(c,c.g.g.next,f,c.g.l):(c.g.l(f),f=nt(c)),f},this.throw=function(f){return G(c.g),c.g.g?f=W(c,c.g.g.throw,f,c.g.l):(X(c.g,f),f=nt(c)),f},this.return=function(f){return lt(c,f)},this[Symbol.iterator]=function(){return this}}function rt(c){function f(j){return c.next(j)}function M(j){return c.throw(j)}return new Promise(function(j,C){function U(v){v.done?j(v.value):Promise.resolve(v.value).then(f,M).then(U,C)}U(c.next())})}p("Promise",function(c){function f(v){this.h=0,this.i=void 0,this.g=[],this.o=!1;var S=this.j();try{v(S.resolve,S.reject)}catch(F){S.reject(F)}}function M(){this.g=null}function j(v){return v instanceof f?v:new f(function(S){S(v)})}if(c)return c;M.prototype.h=function(v){if(this.g==null){this.g=[];var S=this;this.i(function(){S.l()})}this.g.push(v)};var C=l.setTimeout;M.prototype.i=function(v){C(v,0)},M.prototype.l=function(){for(;this.g&&this.g.length;){var v=this.g;this.g=[];for(var S=0;S<v.length;++S){var F=v[S];v[S]=null;try{F()}catch(I){this.j(I)}}}this.g=null},M.prototype.j=function(v){this.i(function(){throw v})},f.prototype.j=function(){function v(I){return function(Z){F||(F=!0,I.call(S,Z))}}var S=this,F=!1;return{resolve:v(this.A),reject:v(this.l)}},f.prototype.A=function(v){if(v===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(v instanceof f)this.C(v);else{t:switch(typeof v){case"object":var S=v!=null;break t;case"function":S=!0;break t;default:S=!1}S?this.v(v):this.m(v)}},f.prototype.v=function(v){var S=void 0;try{S=v.then}catch(F){this.l(F);return}typeof S=="function"?this.D(S,v):this.m(v)},f.prototype.l=function(v){this.u(2,v)},f.prototype.m=function(v){this.u(1,v)},f.prototype.u=function(v,S){if(this.h!=0)throw Error("Cannot settle("+v+", "+S+"): Promise already settled in state"+this.h);this.h=v,this.i=S,this.h===2&&this.B(),this.H()},f.prototype.B=function(){var v=this;C(function(){if(v.I()){var S=l.console;typeof S<"u"&&S.error(v.i)}},1)},f.prototype.I=function(){if(this.o)return!1;var v=l.CustomEvent,S=l.Event,F=l.dispatchEvent;return typeof F>"u"?!0:(typeof v=="function"?v=new v("unhandledrejection",{cancelable:!0}):typeof S=="function"?v=new S("unhandledrejection",{cancelable:!0}):(v=l.document.createEvent("CustomEvent"),v.initCustomEvent("unhandledrejection",!1,!0,v)),v.promise=this,v.reason=this.i,F(v))},f.prototype.H=function(){if(this.g!=null){for(var v=0;v<this.g.length;++v)U.h(this.g[v]);this.g=null}};var U=new M;return f.prototype.C=function(v){var S=this.j();v.s(S.resolve,S.reject)},f.prototype.D=function(v,S){var F=this.j();try{v.call(S,F.resolve,F.reject)}catch(I){F.reject(I)}},f.prototype.then=function(v,S){function F(at,dt){return typeof at=="function"?function(St){try{I(at(St))}catch(Ot){Z(Ot)}}:dt}var I,Z,xt=new f(function(at,dt){I=at,Z=dt});return this.s(F(v,I),F(S,Z)),xt},f.prototype.catch=function(v){return this.then(void 0,v)},f.prototype.s=function(v,S){function F(){switch(I.h){case 1:v(I.i);break;case 2:S(I.i);break;default:throw Error("Unexpected state: "+I.h)}}var I=this;this.g==null?U.h(F):this.g.push(F),this.o=!0},f.resolve=j,f.reject=function(v){return new f(function(S,F){F(v)})},f.race=function(v){return new f(function(S,F){for(var I=b(v),Z=I.next();!Z.done;Z=I.next())j(Z.value).s(S,F)})},f.all=function(v){var S=b(v),F=S.next();return F.done?j([]):new f(function(I,Z){function xt(St){return function(Ot){at[St]=Ot,dt--,dt==0&&I(at)}}var at=[],dt=0;do at.push(void 0),dt++,j(F.value).s(xt(at.length-1),Z),F=S.next();while(!F.done)})},f});var it=typeof Object.assign=="function"?Object.assign:function(c,f){for(var M=1;M<arguments.length;M++){var j=arguments[M];if(j)for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(c[C]=j[C])}return c};p("Object.assign",function(c){return c||it});var Y=this||self,K={facingMode:"user",width:640,height:480};function ot(c,f){this.video=c,this.i=0,this.h=Object.assign(Object.assign({},K),f)}ot.prototype.stop=function(){var c=this,f,M,j,C;return rt(new q(new J(function(U){if(c.g){for(f=c.g.getTracks(),M=b(f),j=M.next();!j.done;j=M.next())C=j.value,C.stop();c.g=void 0}U.j=0})))},ot.prototype.start=function(){var c=this,f;return rt(new q(new J(function(M){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),f=c.h,M.return(navigator.mediaDevices.getUserMedia({video:{facingMode:f.facingMode,width:f.width,height:f.height}}).then(function(j){vt(c,j)}).catch(function(j){var C="Failed to acquire camera feed: "+j;throw console.error(C),alert(C),j}))})))};function R(c){window.requestAnimationFrame(function(){ct(c)})}function vt(c,f){c.g=f,c.video.srcObject=f,c.video.onloadedmetadata=function(){c.video.play(),R(c)}}function ct(c){var f=null;c.video.paused||c.video.currentTime===c.i||(c.i=c.video.currentTime,f=c.h.onFrame()),f?f.then(function(){R(c)}):R(c)}var $=["Camera"],N=Y;$[0]in N||typeof N.execScript>"u"||N.execScript("var "+$[0]);for(var tt;$.length&&(tt=$.shift());)$.length||ot===void 0?N[tt]&&N[tt]!==Object.prototype[tt]?N=N[tt]:N=N[tt]={}:N[tt]=ot}).call(Re)),Re}var Dr=zr();const H={maxNumHands:1,pinchStart:.055,pinchEnd:.075,jointRadius:6,boneWidth:3,boneAlpha:.8,palmAlpha:.18,glowAlpha:.35,smoothing:.5,physics:{gravity:2200,airDrag:.02,floorHeight:140,substeps:2,maxDt:1/30,grabStiffness:55,grabDamping:12}},$t=document.getElementById("overlay"),y=$t.getContext("2d"),zn=document.getElementById("camera-feed"),z={panel:document.getElementById("panel"),panelToggle:document.getElementById("panel-toggle"),panelContent:document.getElementById("panel-content"),spawn:document.getElementById("spawn-one"),reset:document.getElementById("reset"),zoom:document.getElementById("zoom"),gravity:document.getElementById("gravity"),floor:document.getElementById("floor"),bounciness:document.getElementById("bounciness"),friction:document.getElementById("friction")},et={zoom:1,centerWorld:{x:0,y:0}};function It(h){return{x:(h.x-window.innerWidth/2)/et.zoom+et.centerWorld.x,y:(h.y-window.innerHeight/2)/et.zoom+et.centerWorld.y}}function Wr(){const h=window.devicePixelRatio||1,m=et.zoom;y.setTransform(h*m,0,0,h*m,h*(window.innerWidth/2-et.centerWorld.x*m),h*(window.innerHeight/2-et.centerWorld.y*m))}function Dn(){const h=window.devicePixelRatio||1;y.setTransform(h,0,0,h,0,0)}let ke=1;const wt=[],D={pinch:null,prevPinch:null,pinchVel:{x:0,y:0},lastPinchT:0},Zt={activeId:null};function Wn(){const h=["#00ffdf","#00ff88","#66ffff","#ff3355","#ffd166","#a78bfa"];return h[Math.floor(Math.random()*h.length)]}function Yn(){const h=Math.random()<.6,m=It({x:window.innerWidth/2,y:80});if(h){const w=18+Math.random()*18;wt.push({id:ke++,kind:"circle",pos:{x:m.x+(Math.random()-.5)*220,y:m.y+Math.random()*80},vel:{x:(Math.random()-.5)*220,y:0},radius:w,color:Wn(),restitution:.45,friction:.5,mass:1})}else{const w=34+Math.random()*40,l=34+Math.random()*40;wt.push({id:ke++,kind:"box",pos:{x:m.x+(Math.random()-.5)*220,y:m.y+Math.random()*80},vel:{x:(Math.random()-.5)*220,y:0},size:{w,h:l},color:Wn(),restitution:.35,friction:.55,mass:1.2})}}function Ie(){wt.length=0,ke=1,Zt.activeId=null}function Hn(){const h=wt.length;for(let m=0;m<h;m++)for(let w=m+1;w<h;w++){const l=wt[m],p=wt[w],x=l.id===Zt.activeId||p.id===Zt.activeId?.6:1;if(l.kind==="circle"&&p.kind==="circle"){const G=l.radius??0,X=p.radius??0,J=p.pos.x-l.pos.x,lt=p.pos.y-l.pos.y,W=Math.hypot(J,lt),nt=G+X;if(W>1e-4&&W<nt){const q=J/W,rt=lt/W,it=nt-W,Y=l.mass+p.mass,K=it*(p.mass/Y)*x,ot=it*(l.mass/Y)*x;l.pos.x-=q*K,l.pos.y-=rt*K,p.pos.x+=q*ot,p.pos.y+=rt*ot;const R=p.vel.x-l.vel.x,vt=p.vel.y-l.vel.y,ct=R*q+vt*rt;if(ct<0){const N=-(1+Math.min(l.restitution,p.restitution))*ct/(1/l.mass+1/p.mass),tt=N*q*x,c=N*rt*x;l.vel.x-=tt/l.mass,l.vel.y-=c/l.mass,p.vel.x+=tt/p.mass,p.vel.y+=c/p.mass;const f=-rt,M=q,j=R*f+vt*M,C=(l.friction+p.friction)*.5,U=-j/(1/l.mass+1/p.mass),v=Math.max(-N*C,Math.min(N*C,U)),S=v*f*x,F=v*M*x;l.vel.x-=S/l.mass,l.vel.y-=F/l.mass,p.vel.x+=S/p.mass,p.vel.y+=F/p.mass}}continue}if(l.kind==="box"&&p.kind==="box"){const G=l.size.w,X=l.size.h,J=p.size.w,lt=p.size.h,W=l.pos.x-G/2,nt=l.pos.x+G/2,q=l.pos.y-X/2,rt=l.pos.y+X/2,it=p.pos.x-J/2,Y=p.pos.x+J/2,K=p.pos.y-lt/2,ot=p.pos.y+lt/2;if(W<Y&&nt>it&&q<ot&&rt>K){const R=Math.min(nt-it,Y-W),vt=Math.min(rt-K,ot-q);let ct=0,$=0,N=0;R<vt?(N=R,ct=l.pos.x<p.pos.x?-1:1):(N=vt,$=l.pos.y<p.pos.y?-1:1);const tt=l.mass+p.mass,c=N*(p.mass/tt)*x,f=N*(l.mass/tt)*x;l.pos.x+=ct*c,l.pos.y+=$*c,p.pos.x-=ct*f,p.pos.y-=$*f;const M=p.vel.x-l.vel.x,j=p.vel.y-l.vel.y,C=M*ct+j*$;if(C<0){const v=-(1+Math.min(l.restitution,p.restitution))*C/(1/l.mass+1/p.mass),S=v*ct*x,F=v*$*x;l.vel.x-=S/l.mass,l.vel.y-=F/l.mass,p.vel.x+=S/p.mass,p.vel.y+=F/p.mass;const I=-$,Z=ct,xt=M*I+j*Z,at=(l.friction+p.friction)*.5,dt=-xt/(1/l.mass+1/p.mass),St=Math.max(-v*at,Math.min(v*at,dt)),Ot=St*I*x,zt=St*Z*x;l.vel.x-=Ot/l.mass,l.vel.y-=zt/l.mass,p.vel.x+=Ot/p.mass,p.vel.y+=zt/p.mass}}continue}const b=l.kind==="circle"?l:p.kind==="circle"?p:null,E=l.kind==="box"?l:p.kind==="box"?p:null;if(b&&E){const G=b.radius??0,X=E.size.w/2,J=E.size.h/2,lt=Math.max(E.pos.x-X,Math.min(b.pos.x,E.pos.x+X)),W=Math.max(E.pos.y-J,Math.min(b.pos.y,E.pos.y+J)),nt=b.pos.x-lt,q=b.pos.y-W,rt=nt*nt+q*q;if(rt<G*G){const it=Math.sqrt(Math.max(rt,1e-9));let Y=nt/it,K=q/it;if(!isFinite(Y)||!isFinite(K)){const c=b.pos.x-E.pos.x,f=b.pos.y-E.pos.y;Math.abs(c/X)>Math.abs(f/J)?(Y=c>0?1:-1,K=0):(Y=0,K=f>0?1:-1)}const ot=G-it,R=b.mass+E.mass,vt=ot*(E.mass/R)*x,ct=ot*(b.mass/R)*x;b.pos.x+=Y*vt,b.pos.y+=K*vt,E.pos.x-=Y*ct,E.pos.y-=K*ct;const $=E.vel.x-b.vel.x,N=E.vel.y-b.vel.y,tt=$*Y+N*K;if(tt<0){const f=-(1+Math.min(b.restitution,E.restitution))*tt/(1/b.mass+1/E.mass),M=f*Y*x,j=f*K*x;b.vel.x-=M/b.mass,b.vel.y-=j/b.mass,E.vel.x+=M/E.mass,E.vel.y+=j/E.mass;const C=-K,U=Y,v=$*C+N*U,S=(b.friction+E.friction)*.5,F=-v/(1/b.mass+1/E.mass),I=Math.max(-f*S,Math.min(f*S,F)),Z=I*C*x,xt=I*U*x;b.vel.x-=Z/b.mass,b.vel.y-=xt/b.mass,E.vel.x+=Z/E.mass,E.vel.y+=xt/E.mass}}}}}function Hr(h){const m=floorY();for(const l of wt){if(l.id!==Zt.activeId){l.vel.y+=H.physics.gravity*h;const b=Math.max(0,1-H.physics.airDrag*h);l.vel.x*=b,l.vel.y*=b,l.pos.x+=l.vel.x*h,l.pos.y+=l.vel.y*h}if(l.kind==="circle"){const b=l.radius??0;l.pos.y+b>m&&(l.pos.y=m-b,l.vel.y>0&&(l.vel.y=-l.vel.y*l.restitution),l.vel.x*=1-l.friction*.08)}else{const b=l.size.h/2;l.pos.y+b>m&&(l.pos.y=m-b,l.vel.y>0&&(l.vel.y=-l.vel.y*l.restitution),l.vel.x*=1-l.friction*.08)}const p=It({x:0,y:0}).x,x=It({x:window.innerWidth,y:0}).x;if(l.kind==="circle"){const b=l.radius??0;l.pos.x-b<p&&(l.pos.x=p+b,l.vel.x<0&&(l.vel.x=-l.vel.x*.6)),l.pos.x+b>x&&(l.pos.x=x-b,l.vel.x>0&&(l.vel.x=-l.vel.x*.6))}else{const b=l.size.w/2;l.pos.x-b<p&&(l.pos.x=p+b,l.vel.x<0&&(l.vel.x=-l.vel.x*.6)),l.pos.x+b>x&&(l.pos.x=x-b,l.vel.x>0&&(l.vel.x=-l.vel.x*.6))}}const w=getBodyById(Zt.activeId);if(w&&D.pinch){const l=It(D.pinch),p=l.x-w.pos.x,x=l.y-w.pos.y,b=(p*H.physics.grabStiffness-w.vel.x*H.physics.grabDamping)/w.mass,E=(x*H.physics.grabStiffness-w.vel.y*H.physics.grabDamping)/w.mass;w.vel.x+=b*h,w.vel.y+=E*h,w.pos.x+=w.vel.x*h,w.pos.y+=w.vel.y*h}Hn(),Hn()}let Rt=null,kt=!1,Bt=null;function Gn(){const h=window.devicePixelRatio||1;$t.width=Math.floor(window.innerWidth*h),$t.height=Math.floor(window.innerHeight*h),$t.style.width=`${window.innerWidth}px`,$t.style.height=`${window.innerHeight}px`,y.setTransform(h,0,0,h,0,0)}function Gr(h){return{x:(1-h.x)*window.innerWidth,y:h.y*window.innerHeight}}function Xr(h,m,w){if(!h||h.length!==m.length)return m;const p=1-Math.min(.98,Math.max(0,w));return m.map((x,b)=>({x:h[b].x+(x.x-h[b].x)*p,y:h[b].y+(x.y-h[b].y)*p}))}function Vr(h,m,w){y.save(),y.globalAlpha=H.glowAlpha;const l=y.createRadialGradient(h.x,h.y,0,h.x,h.y,m*2.2);l.addColorStop(0,w),l.addColorStop(1,"rgba(0,0,0,0)"),y.fillStyle=l,y.beginPath(),y.arc(h.x,h.y,m*2.2,0,Math.PI*2),y.fill(),y.restore()}function Yr(h,m){y.save(),y.lineCap="round",y.lineJoin="round",y.strokeStyle=`rgba(102, 255, 255, ${H.boneAlpha})`,y.lineWidth=H.boneWidth;for(const[l,p]of Array.from(Vn.HAND_CONNECTIONS)){const x=h[l],b=h[p];y.beginPath(),y.moveTo(x.x,x.y),y.lineTo(b.x,b.y),y.stroke()}y.restore();const w=[0,5,9,13,17];y.save(),y.fillStyle=`rgba(0, 255, 255, ${H.palmAlpha})`,y.beginPath(),y.moveTo(h[w[0]].x,h[w[0]].y);for(let l=1;l<w.length;l++)y.lineTo(h[w[l]].x,h[w[l]].y);y.closePath(),y.fill(),y.restore();for(let l=0;l<h.length;l++){const p=h[l],x=l===4||l===8,b="rgba(255, 51, 85, 1)",E="rgba(0, 255, 255, 1)",G=x&&m?H.jointRadius*1.35:H.jointRadius,X=x&&m?b:E;Vr(p,G,X),y.save(),y.fillStyle=X,y.beginPath(),y.arc(p.x,p.y,G,0,Math.PI*2),y.fill(),y.restore()}}function Kr(h){if(y.save(),y.globalAlpha=.95,y.fillStyle=h.color,y.strokeStyle="rgba(255,255,255,0.35)",y.lineWidth=2/et.zoom,h.kind==="circle"){const m=h.radius??0;y.beginPath(),y.arc(h.pos.x,h.pos.y,m,0,Math.PI*2),y.fill(),y.stroke()}else{const m=h.size.w,w=h.size.h;y.beginPath(),y.rect(h.pos.x-m/2,h.pos.y-w/2,m,w),y.fill(),y.stroke()}if(y.globalAlpha=.22,y.strokeStyle=h.color,y.lineWidth=10/et.zoom,h.kind==="circle"){const m=(h.radius??0)+6;y.beginPath(),y.arc(h.pos.x,h.pos.y,m,0,Math.PI*2),y.stroke()}else{const m=h.size.w+10,w=h.size.h+10;y.strokeRect(h.pos.x-m/2,h.pos.y-w/2,m,w)}y.restore()}function $r(){const h=floorY();y.save(),y.fillStyle="rgba(255,255,255,0.06)";const m=It({x:0,y:0}).x,w=It({x:window.innerWidth,y:0}).x,l=It({x:0,y:window.innerHeight}).y;y.fillRect(m,h,w-m,l-h),y.strokeStyle="rgba(0,255,255,0.35)",y.lineWidth=2/et.zoom,y.beginPath(),y.moveTo(m,h),y.lineTo(w,h),y.stroke(),y.globalAlpha=.15,y.strokeStyle="rgba(255,255,255,0.25)",y.lineWidth=1/et.zoom;const x=60/et.zoom,b=Math.floor(m/x)*x;for(let E=b;E<w;E+=x)y.beginPath(),y.moveTo(E,h),y.lineTo(E,l),y.stroke();y.restore()}let Xn=performance.now();function Kn(h=performance.now()){let m=(h-Xn)/1e3;Xn=h,m=Math.min(H.physics.maxDt,Math.max(0,m));const w=H.physics.substeps,l=m/w;for(let p=0;p<w;p++)Hr(l);Dn(),y.clearRect(0,0,window.innerWidth,window.innerHeight),Wr(),$r();for(const p of wt)Kr(p);Dn(),Rt&&(Yr(Rt,kt),Bt&&(y.save(),y.strokeStyle=kt?"rgba(255, 51, 85, 0.95)":"rgba(0, 255, 255, 0.9)",y.lineWidth=2,y.beginPath(),y.arc(Bt.x,Bt.y,14,0,Math.PI*2),y.stroke(),y.restore())),requestAnimationFrame(Kn)}function Zr(){const h=new Vn.Hands({locateFile:w=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${w}`});h.setOptions({maxNumHands:H.maxNumHands,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),h.onResults(w=>{const l=document.getElementById("loader");if(l&&(l.style.opacity="0"),w.multiHandLandmarks&&w.multiHandLandmarks.length>0){const p=w.multiHandLandmarks[0],x=p.map(Gr);Rt=Xr(Rt,x,H.smoothing);const b=Rt[4],E=Rt[8];Bt={x:(b.x+E.x)/2,y:(b.y+E.y)/2};const G=Math.hypot(p[4].x-p[8].x,p[4].y-p[8].y),X=kt,J=X?G<H.pinchEnd:G<H.pinchStart,lt=performance.now(),W=D.lastPinchT>0?(lt-D.lastPinchT)/1e3:0;D.lastPinchT=lt,D.prevPinch=D.pinch,D.pinch=Bt,D.prevPinch&&D.pinch&&W>1e-4?(D.pinchVel.x=(D.pinch.x-D.prevPinch.x)/W,D.pinchVel.y=(D.pinch.y-D.prevPinch.y)/W):(D.pinchVel.x=0,D.pinchVel.y=0),J&&!X?(kt=!0,tryStartGrab()):!J&&X?(kt=!1,endGrab()):kt=J}else Rt=null,Bt=null,kt=!1,D.pinch=null,D.prevPinch=null,D.pinchVel.x=0,D.pinchVel.y=0,D.lastPinchT=0,endGrab()}),new Dr.Camera(zn,{onFrame:async()=>{await h.send({image:zn})},width:640,height:480}).start()}function Qr(){const h=window.SpeechRecognition||window.webkitSpeechRecognition;if(!h)return;const m=new h;m.continuous=!0,m.lang="en-US",m.interimResults=!1,m.onresult=w=>{const l=w.results.length-1,p=w.results[l][0].transcript.trim().toLowerCase();p.includes("reset")||p.includes("clear")?Ie():(p.includes("spawn")||p.includes("add"))&&Yn()},m.start()}function Jr(){z.panelToggle?.addEventListener("click",()=>{const m=z.panelContent.style.display==="none";z.panelContent.style.display=m?"grid":"none",z.panelToggle.textContent=m?"Hide":"Show"}),z.spawn?.addEventListener("click",()=>Yn()),z.reset?.addEventListener("click",()=>Ie()),z.zoom.value=String(et.zoom),z.gravity.value=String(H.physics.gravity),z.floor.value=String(H.physics.floorHeight),z.bounciness.value=String(.45),z.friction.value=String(.55),z.zoom?.addEventListener("input",()=>{et.zoom=Number(z.zoom.value)}),z.gravity?.addEventListener("input",()=>{H.physics.gravity=Number(z.gravity.value)}),z.floor?.addEventListener("input",()=>{H.physics.floorHeight=Number(z.floor.value)}),z.bounciness?.addEventListener("input",()=>{const m=Number(z.bounciness.value);for(const w of wt)w.restitution=m}),z.friction?.addEventListener("input",()=>{const m=Number(z.friction.value);for(const w of wt)w.friction=m}),window.addEventListener("wheel",m=>{const w=m.target;if(w&&w.closest&&w.closest("#panel"))return;m.preventDefault();const l=Math.sign(m.deltaY);et.zoom=Math.min(1.6,Math.max(.5,et.zoom*(l>0?.95:1.05))),z.zoom.value=String(et.zoom)},{passive:!1})}function qr(){Gn(),window.addEventListener("resize",()=>{Gn();const m=floorY();for(const w of wt)if(w.kind==="circle"){const l=w.radius??0;w.pos.y=Math.min(w.pos.y,m-l)}else w.pos.y=Math.min(w.pos.y,m-w.size.h/2)});const h=document.getElementById("canvas-container");h&&(h.style.display="none"),Ie(),Qr(),Zr(),requestAnimationFrame(Kn),Jr(),et.zoom=Number(z.zoom?.value??1)}qr();

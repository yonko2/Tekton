<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tekton - Hand Physics Lab</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #1a1a1a; font-family: 'Inter', sans-serif; }
        #canvas-container { width: 100vw; height: 100vh; display: block; }

        /* 2D overlay canvas for the hologram */
        #overlay {
          position: absolute;
          inset: 0;
          width: 100vw;
          height: 100vh;
          z-index: 5;
          pointer-events: none;
        }

        /* Requirement 11: Camera Window */
        #camera-feed {
          position: absolute;
          bottom: 20px;
          right: 20px;
          width: 200px;
          height: 150px;
          border-radius: 12px;
          border: 2px solid rgba(255, 255, 255, 0.2);
          box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
          transform: scaleX(-1); /* Mirror the local video */
          object-fit: cover;
          z-index: 10;
        }

        /* Loading Overlay */
        #loader {
          position: absolute;
          top: 50%; left: 50%;
          transform: translate(-50%, -50%);
          color: white;
          font-size: 1.5rem;
          pointer-events: none;
          transition: opacity 0.5s;
          z-index: 20;
        }

        /* Instructions UI */
        .ui-overlay {
          position: absolute;
          top: 20px;
          left: 20px;
          color: rgba(255, 255, 255, 0.8);
          pointer-events: none;
          z-index: 20;
        }
        h1 { font-size: 1.2rem; margin: 0 0 5px 0; font-weight: 600; }
        p { font-size: 0.9rem; margin: 0; }

        /* Settings panel */
        #panel {
          position: absolute;
          top: 20px;
          right: 20px;
          width: 280px;
          max-width: calc(100vw - 40px);
          background: rgba(10, 10, 14, 0.72);
          border: 1px solid rgba(255,255,255,0.12);
          border-radius: 12px;
          box-shadow: 0 8px 28px rgba(0,0,0,0.45);
          color: rgba(255,255,255,0.92);
          z-index: 25;
          backdrop-filter: blur(10px);
        }

        #panel .header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 10px 12px;
          border-bottom: 1px solid rgba(255,255,255,0.10);
        }

        #panel .header strong { font-weight: 650; font-size: 0.95rem; }

        #panel button {
          background: rgba(255,255,255,0.08);
          border: 1px solid rgba(255,255,255,0.14);
          color: rgba(255,255,255,0.92);
          border-radius: 10px;
          padding: 8px 10px;
          cursor: pointer;
        }
        #panel button:hover { background: rgba(255,255,255,0.12); }

        #panel .content {
          padding: 10px 12px 12px;
          display: grid;
          gap: 10px;
        }

        #panel .row {
          display: grid;
          grid-template-columns: 1fr auto;
          align-items: center;
          gap: 10px;
        }

        #panel label { font-size: 0.82rem; opacity: 0.9; }
        #panel input[type="range"] { width: 140px; }
        #panel input[type="number"] { width: 86px; }

        #panel .buttons {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
        }

        #panel[hidden] { display: none; }
    </style>
  <script type="module" crossorigin src="/assets/index-CWfKet--.js"></script>
</head>
<body>
<div id="loader">Initializing 2D Vision...</div>

<div class="ui-overlay">
    <h1>Tekton 2D</h1>
    <p>ü§è Pinch to grab + throw</p>
</div>

<div id="panel">
  <div class="header">
    <strong>Settings</strong>
    <button id="panel-toggle" type="button">Hide</button>
  </div>
  <div class="content" id="panel-content">
    <div class="buttons">
      <button id="spawn-one" type="button">Spawn</button>
      <button id="reset" type="button">Reset</button>
    </div>

    <div class="row">
      <label for="zoom">Zoom</label>
      <input id="zoom" type="range" min="0.5" max="1.6" step="0.05" value="1" />
    </div>

    <div class="row">
      <label for="gravity">Gravity</label>
      <input id="gravity" type="range" min="200" max="4200" step="50" value="2200" />
    </div>

    <div class="row">
      <label for="floor">Floor height</label>
      <input id="floor" type="range" min="60" max="320" step="5" value="140" />
    </div>

    <div class="row">
      <label for="bounciness">Bounciness</label>
      <input id="bounciness" type="range" min="0" max="0.9" step="0.05" value="0.45" />
    </div>

    <div class="row">
      <label for="friction">Friction</label>
      <input id="friction" type="range" min="0" max="1" step="0.05" value="0.55" />
    </div>
  </div>
</div>

<canvas id="overlay"></canvas>
<video id="camera-feed" playsinline muted autoplay></video>

<div id="canvas-container"></div>

</body>
</html>